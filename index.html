<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EM'S APPLE SHOP | Virtual Genius</title>
    
    <style>
        :root {
            --apple-black: #000000;
            --apple-grey: #1c1c1e;
            --apple-blue: #007aff;
            --apple-red: #ff3b30;
            --text-white: #ffffff;
        }

        body {
            background: var(--apple-black);
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .iphone-concierge {
            width: 100%;
            max-width: 400px;
            height: 85vh;
            background: var(--apple-grey);
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 50px rgba(0,0,0,0.8);
            border: 1px solid #333;
            position: relative;
        }

        /* Header Section */
        .apple-header {
            background: rgba(0,0,0,0.9);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
            backdrop-filter: blur(10px);
        }

        .header-content { display: flex; align-items: center; }

        .shop-logo {
            height: 42px;
            width: 42px;
            border-radius: 10px;
            margin-right: 12px;
            object-fit: cover;
            border: 1px solid #444;
        }

        .shop-info h1 { font-size: 15px; margin: 0; color: white; letter-spacing: 0.5px; }

        .status { font-size: 10px; color: #34a853; display: flex; align-items: center; margin-top: 2px; }

        .dot { height: 6px; width: 6px; background: #34a853; border-radius: 50%; margin-right: 5px; animation: pulse 2s infinite; }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        /* Animated Price Ticker */
        .ticker-wrap { background: #111; border-bottom: 1px solid #333; overflow: hidden; padding: 7px 0; }
        .ticker { display: flex; white-space: nowrap; animation: ticker 25s linear infinite; }
        .ticker-item { color: var(--apple-blue); font-size: 11px; padding: 0 30px; font-weight: 600; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Chat Display Area */
        .chat-area { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; -webkit-overflow-scrolling: touch; }
        
        .bot-msg { background: #2c2c2e; color: white; padding: 12px 16px; border-radius: 18px 18px 18px 4px; align-self: flex-start; font-size: 14px; max-width: 85%; line-height: 1.5; }
        
        .user-msg { background: var(--apple-blue); color: white; padding: 12px 16px; border-radius: 18px 18px 4px 18px; align-self: flex-end; font-size: 14px; max-width: 80%; }

        /* WhatsApp Button */
        .wa-order-btn {
            display: inline-block;
            background: #25D366;
            color: white;
            text-decoration: none;
            padding: 10px 18px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 13px;
            margin-top: 5px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
            transition: transform 0.2s;
        }
        .wa-order-btn:active { transform: scale(0.95); }

        /* Input Bar */
        .input-container { background: #000; padding: 20px; display: flex; align-items: center; border-top: 1px solid #333; }
        
        #userInput { flex: 1; background: #1c1c1e; border: 1px solid #333; border-radius: 22px; padding: 12px 18px; color: white; outline: none; font-size: 15px; }
        
        #sendBtn { background: var(--apple-blue); color: white; border: none; width: 44px; height: 44px; border-radius: 50%; margin-left: 12px; cursor: pointer; font-size: 18px; transition: background 0.3s; }
        #sendBtn:hover { background: #005bb5; }

        /* Urgent Stock Alert */
        .urgent { color: var(--apple-red); font-weight: bold; }
     /* Responsive Container Fix */
.reviews-container {
    flex-shrink: 0;
    background: #111;
    border-top: 1px solid #333;
    padding: 10px 0;
    overflow: hidden;
    position: relative;
}

.reviews-track {
    display: flex;
    width: calc(300px * 8); /* Adjust based on number of reviews */
    animation: scrollReviews 30s linear infinite;
}

.review-card {
    width: 280px;
    background: #2c2c2e;
    margin: 0 10px;
    padding: 10px 15px;
    border-radius: 12px;
    font-size: 11px;
    color: #eee;
    border: 1px solid #444;
    white-space: nowrap;
}

@keyframes scrollReviews {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

/* Pause on hover so people can read */
.reviews-container:hover .reviews-track {
    animation-play-state: paused;
}
    </style>
</head>
<body>

    <div class="iphone-concierge">
        <div class="apple-header">
            <div class="header-content">
                <img src="https://i.postimg.cc/ZnV6d0s1/1770371994255.png" class="shop-logo" alt="EM'S">
                <div class="shop-info">
                    <h1>EM'S APPLE SHOP</h1>
                    <div class="status"><span class="dot"></span> Online Assistant</div>
                </div>
            </div>
            <a href="tel:+233545100563" style="text-decoration:none;">üìû</a>
        </div>

        <div class="ticker-wrap">
            <div class="ticker">
                <span class="ticker-item">üî• iPhone 15 Pro Max: GH‚Çµ 18,500</span>
                <span class="ticker-item">üî• iPhone 14 Pro Max: GH‚Çµ 11,800</span>
                <span class="ticker-item">üöö Nationwide Delivery Available</span>
                <span class="ticker-item">üîÑ Best Swap Rates in Town</span>
            </div>
        </div>

        <div class="chat-area" id="chatDisplay">
            <p class="bot-msg">Welcome to EM'S APPLE SHOP. I'm your Virtual Genius. Check our live prices above. How can I assist you today?</p>
        </div>

<div class="reviews-container">
    <div class="reviews-track">
        <div class="review-card">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Best price for my iPhone 15 Pro!" - Kwesi</div>
        <div class="review-card">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Clean UK used 13 Pro Max. Fast delivery!" - Ama</div>
        <div class="review-card">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Emma is the most trusted plug in GH. 10/10." - David</div>
        <div class="review-card">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Smooth swap process. Highly recommend!" - Sarah</div>
    </div>
</div>

        <div class="input-container">
            <input type="text" id="userInput" placeholder="Ask about prices or swaps..." autocomplete="off">
            <button id="sendBtn">‚û§</button>
        </div>
    </div>

    <script>
        const chatDisplay = document.getElementById('chatDisplay');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');

        // Em's Live Inventory Management
        const inventory = {
            "15 pro max": { price: "GH‚Çµ 18,500", stock: 2 },
            "15 pro": { price: "GH‚Çµ 16,000", stock: 4 },
            "14 pro max": { price: "GH‚Çµ 11,800", stock: 1 },
            "13 pro max": { price: "GH‚Çµ 8,900", stock: 5 },
            "11": { price: "GH‚Çµ 3,500", stock: 0 }
        };

        function getAiResponse(text) {
            const input = text.toLowerCase().replace(/[?"]/g, "");
            
            // Check Inventory & Stock Engine
            for (let model in inventory) {
                if (input.includes(model)) {
                    const item = inventory[model];
                    let stockStatus = "";
                    
                    if (item.stock === 0) {
                        stockStatus = "‚ùå Currently Sold Out! Message Em to pre-order.";
                    } else if (item.stock <= 2) {
                        stockStatus = `‚ö†Ô∏è URGENT: ONLY ${item.stock} LEFT IN STOCK!`;
                    } else {
                        stockStatus = `‚úÖ In Stock (${item.stock} units).`;
                    }

                    return `The iPhone ${model.toUpperCase()} at EM'S is ${item.price}. \n\n${stockStatus} \n\nTap below to order on WhatsApp!`;
                }
            }
            if (input.includes("trust") || input.includes("legit") || input.includes("safe")) {
    return "At EM'S APPLE SHOP, our reputation is our pride! üåü Check the scrolling reviews right above‚Äîwe've served hundreds of happy customers across Ghana. Ready to be the next one?";
}

            // General Business Logic
            if (input.includes("deliver")) return "We deliver nationwide via secure courier! üöö Where should we send yours?";
            if (input.includes("where") || input.includes("locate") || input.includes("shop")) return "We are located at Takoradi Market Circle. üìç Open 9AM-6PM. Stop by for a swap or inspection!";
            if (input.includes("swap") || input.includes("trade")) return "We offer the highest trade-in values! üì≤ What model are you using now?";
            
            // Lead Capture / Phone Number Detection
            if (input.length > 8 && !isNaN(input.replace(/\s/g, ""))) {
                return "Got your number! ‚úÖ Em will WhatsApp you in a few minutes to discuss your deal.";
            }

            return "I can help with iPhone prices, swap deals, or our location. What are you looking for?";
        }

        function handleMessage() {
            const rawText = userInput.value.trim();
            if (!rawText) return;

            addMessage(rawText, 'user-msg');
            userInput.value = "";

            setTimeout(() => {
                const response = getAiResponse(rawText);
                addMessage(response, 'bot-msg');
            }, 600);
        }

        function addMessage(text, className) {
            const msgContainer = document.createElement('div');
            msgContainer.style.display = "contents"; // Helps layout flow

            const msg = document.createElement('div');
            msg.className = className;
            msg.innerText = text;
            chatDisplay.appendChild(msg);

            // Trigger WhatsApp button if it's a sales response
            if (className === 'bot-msg' && text.includes("WhatsApp")) {
                const waBtn = document.createElement('a');
                waBtn.className = 'wa-order-btn';
                // Replace with Em's real WhatsApp number (e.g., 23324XXXXXXX)
                const emPhone = "233545100563"; 
                const encodedMsg = encodeURIComponent("Hello EM'S APPLE SHOP, I saw your AI Assistant and I want to buy a phone!");
                waBtn.href = `https://wa.me/${emPhone}?text=${encodedMsg}`;
                waBtn.target = "_blank";
                waBtn.innerText = "Order on WhatsApp üü¢";
                chatDisplay.appendChild(waBtn);
            }

            chatDisplay.scrollTop = chatDisplay.scrollHeight;
        }

        sendBtn.addEventListener('click', handleMessage);
        userInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleMessage(); });
    </script>
</body>
</html>


